{
  "info": {
    "name": "New Life Ray Backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "e7b7d6a4-8c5f-4f7a-b1af-3e9dbe1c0a01"
  },
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "GET /api/health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "health"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "POST /api/auth/login-email",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"pass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login-email",
              "host": ["{{baseUrl}}"],
              "path": ["api","auth","login-email"]
            }
          }
        },
        {
          "name": "POST /api/auth/request-otp",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {"mode": "raw", "raw": "{\n  \"phone\": \"+911234567890\"\n}"},
            "url": {"raw": "{{baseUrl}}/api/auth/request-otp","host":["{{baseUrl}}"],"path":["api","auth","request-otp"]}
          }
        },
        {
          "name": "POST /api/auth/verify-otp",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {"mode": "raw", "raw": "{\n  \"phone\": \"+911234567890\",\n  \"code\": \"123456\",\n  \"name\": \"User\"\n}"},
            "url": {"raw": "{{baseUrl}}/api/auth/verify-otp","host":["{{baseUrl}}"],"path":["api","auth","verify-otp"]}
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "GET /api/users",
          "request": {"method": "GET","header": [],"url": {"raw": "{{baseUrl}}/api/users","host":["{{baseUrl}}"],"path":["api","users"]}}
        }
      ]
    },
    {
      "name": "Astrologers",
      "item": [
        {
          "name": "PUT /api/astrologers/:userId",
          "request": {
            "method": "PUT",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": {"mode":"raw","raw":"{\n  \"bio\": \"About astrologer\"\n}"},
            "url": {"raw":"{{baseUrl}}/api/astrologers/USER_ID","host":["{{baseUrl}}"],"path":["api","astrologers","USER_ID"]}
          }
        },
        {
          "name": "GET /api/astrologers/:userId",
          "request": {"method":"GET","header":[],"url": {"raw":"{{baseUrl}}/api/astrologers/USER_ID","host":["{{baseUrl}}"],"path":["api","astrologers","USER_ID"]}}
        }
      ]
    },
    {
      "name": "Admins",
      "item": [
        {
          "name": "PUT /api/admins/:userId",
          "request": {"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"notes\": \"Admin notes\"\n}"},"url":{"raw":"{{baseUrl}}/api/admins/USER_ID","host":["{{baseUrl}}"],"path":["api","admins","USER_ID"]}}
        },
        {
          "name": "GET /api/admins/:userId",
          "request": {"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/api/admins/USER_ID","host":["{{baseUrl}}"],"path":["api","admins","USER_ID"]}}
        }
      ]
    },
    {
      "name": "Free Services",
      "item": [
        {"name":"POST /api/services/free/kundli","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{}"},"url":{"raw":"{{baseUrl}}/api/services/free/kundli","host":["{{baseUrl}}"],"path":["api","services","free","kundli"]}}},
        {"name":"POST /api/services/free/match","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{}"},"url":{"raw":"{{baseUrl}}/api/services/free/match","host":["{{baseUrl}}"],"path":["api","services","free","match"]}}},
        {"name":"POST /api/services/free/numerology","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{}"},"url":{"raw":"{{baseUrl}}/api/services/free/numerology","host":["{{baseUrl}}"],"path":["api","services","free","numerology"]}}},
        {"name":"POST /api/services/free/tarot-daily","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{}"},"url":{"raw":"{{baseUrl}}/api/services/free/tarot-daily","host":["{{baseUrl}}"],"path":["api","services","free","tarot-daily"]}}}
      ]
    },
    {
      "name": "Commerce - Ebooks",
      "item": [
        {
          "name": "POST /api/commerce/ebooks",
          "request": {
            "method": "POST",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": {"mode":"raw","raw":"{\n  \"astrologer_id\": \"ASTRO_USER_ID\",\n  \"title\": \"Sample Ebook\",\n  \"description\": \"Desc...\",\n  \"file_url\": \"https://files/ebook.pdf\",\n  \"price\": 999,\n  \"isactive\": true\n}"},
            "url": {"raw":"{{baseUrl}}/api/commerce/ebooks","host":["{{baseUrl}}"],"path":["api","commerce","ebooks"]}
          }
        },
        {
          "name": "GET /api/commerce/ebooks",
          "request": {"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/ebooks?active=true","host":["{{baseUrl}}"],"path":["api","commerce","ebooks"],"query":[{"key":"active","value":"true"}]}}
        },
        {
          "name": "GET /api/commerce/ebooks/:id",
          "request": {"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/ebooks/EBOOK_ID","host":["{{baseUrl}}"],"path":["api","commerce","ebooks","EBOOK_ID"]}}
        },
        {
          "name": "PUT /api/commerce/ebooks/:id",
          "request": {"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"title\": \"Updated title\"\n}"},"url":{"raw":"{{baseUrl}}/api/commerce/ebooks/EBOOK_ID","host":["{{baseUrl}}"],"path":["api","commerce","ebooks","EBOOK_ID"]}}
        },
        {
          "name": "DELETE /api/commerce/ebooks/:id",
          "request": {"method":"DELETE","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/ebooks/EBOOK_ID","host":["{{baseUrl}}"],"path":["api","commerce","ebooks","EBOOK_ID"]}}
        }
      ]
    },
    {
      "name": "Commerce - Courses",
      "item": [
        {
          "name": "POST /api/commerce/courses",
          "request": {
            "method": "POST",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": {"mode":"raw","raw":"{\n  \"astrologer_id\": \"ASTRO_USER_ID\",\n  \"title\": \"Sample Course\",\n  \"description\": \"Desc...\",\n  \"modules\": [ { \"title\": \"Intro\", \"video_url\": \"https://videos/intro.mp4\", \"order\": 1 } ],\n  \"price\": 1999,\n  \"isactive\": true\n}"},
            "url": {"raw":"{{baseUrl}}/api/commerce/courses","host":["{{baseUrl}}"],"path":["api","commerce","courses"]}
          }
        },
        {
          "name": "GET /api/commerce/courses",
          "request": {"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/courses?active=true","host":["{{baseUrl}}"],"path":["api","commerce","courses"],"query":[{"key":"active","value":"true"}]}}
        },
        {
          "name": "GET /api/commerce/courses/:id",
          "request": {"method":"GET","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/courses/COURSE_ID","host":["{{baseUrl}}"],"path":["api","commerce","courses","COURSE_ID"]}}
        },
        {
          "name": "PUT /api/commerce/courses/:id",
          "request": {"method":"PUT","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"title\": \"Updated title\"\n}"},"url":{"raw":"{{baseUrl}}/api/commerce/courses/COURSE_ID","host":["{{baseUrl}}"],"path":["api","commerce","courses","COURSE_ID"]}}
        },
        {
          "name": "DELETE /api/commerce/courses/:id",
          "request": {"method":"DELETE","header":[],"url":{"raw":"{{baseUrl}}/api/commerce/courses/COURSE_ID","host":["{{baseUrl}}"],"path":["api","commerce","courses","COURSE_ID"]}}
        }
      ]
    },
    {
      "name": "Payments (Razorpay)",
      "item": [
        {
          "name": "POST /api/payments/order",
          "request": {
            "method": "POST",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": {"mode":"raw","raw":"{\n  \"buyer_id\": \"BUYER_USER_ID\",\n  \"item_type\": \"ebook\",\n  \"item_id\": \"ITEM_ID\",\n  \"currency\": \"INR\"\n}"},
            "url": {"raw":"{{baseUrl}}/api/payments/order","host":["{{baseUrl}}"],"path":["api","payments","order"]}
          }
        },
        {
          "name": "POST /api/payments/verify",
          "request": {
            "method": "POST",
            "header": [ {"key":"Content-Type","value":"application/json"} ],
            "body": {"mode":"raw","raw":"{\n  \"razorpay_order_id\": \"order_abc\",\n  \"razorpay_payment_id\": \"pay_abc\",\n  \"razorpay_signature\": \"sig_hash\",\n  \"purchase_id\": \"PURCHASE_ID\"\n}"},
            "url": {"raw":"{{baseUrl}}/api/payments/verify","host":["{{baseUrl}}"],"path":["api","payments","verify"]}
          }
        },
        {
          "name": "POST /api/payments/webhook (raw)",
          "request": {
            "method": "POST",
            "header": [
              {"key":"Content-Type","value":"application/json"},
              {"key":"x-razorpay-signature","value":"WEBHOOK_SIGNATURE"}
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"payment.captured\",\n  \"payload\": {\n    \"payment\": { \"entity\": { \"order_id\": \"order_abc\", \"id\": \"pay_abc\" } }\n  }\n}"
            },
            "url": {"raw":"{{baseUrl}}/api/payments/webhook","host":["{{baseUrl}}"],"path":["api","payments","webhook"]}
          }
        }
      ]
    }
  ],
  "variable": [
    {"key": "baseUrl", "value": "http://localhost:3000"}
  ]
}
